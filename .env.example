# YMERA Multi-Agent Workspace Platform
# Environment Configuration Template
# Copy this file to .env and fill in your values

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Server host and port
HOST=0.0.0.0  # Use 0.0.0.0 to allow external connections (iPhone access)
PORT=8000

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# AI PROVIDER API KEYS (FREE TIERS AVAILABLE)
# ============================================================================

# Mistral AI - https://console.mistral.ai/
# Free tier: Limited credits
MISTRAL_API_KEY=your_mistral_api_key_here

# Google Gemini - https://ai.google.dev/
# Free tier: 15 RPM for Flash, 2 RPM for Pro
GEMINI_API_KEY=your_gemini_api_key_here

# Groq - https://console.groq.com/
# Free tier: 30,000 tokens/min (VERY GENEROUS!)
GROQ_API_KEY=your_groq_api_key_here

# OpenRouter - https://openrouter.ai/
# 40+ free models available
OPENROUTER_API_KEY=your_openrouter_api_key_here

# HuggingFace - https://huggingface.co/settings/tokens
# Free inference API
HF_API_KEY=your_huggingface_token_here

# Anthropic Claude - https://console.anthropic.com/
# Optional: $5 free credit for new users
ANTHROPIC_API_KEY=your_anthropic_key_here

# OpenAI - https://platform.openai.com/
# Optional: $5 free credit for new users
OPENAI_API_KEY=your_openai_key_here

# Cohere - https://dashboard.cohere.com/
# Free tier: 100 API calls/minute
COHERE_API_KEY=your_cohere_key_here

# AI21 Labs - https://studio.ai21.com/
# Free tier: 10,000 tokens/day
AI21_API_KEY=your_ai21_key_here

# ============================================================================
# GITHUB INTEGRATION (Use your GitHub Pro account!)
# ============================================================================

# GitHub Personal Access Token - https://github.com/settings/tokens
# Scopes needed: repo, workflow, read:org
GITHUB_TOKEN=your_github_pro_token_here

# GitHub username
GITHUB_USERNAME=your_github_username

# Default repository for operations
GITHUB_DEFAULT_REPO=your_default_repo

# ============================================================================
# MCP (MODEL CONTEXT PROTOCOL) SERVERS
# ============================================================================

# Brave Search API - https://brave.com/search/api/
# Free tier: 2,000 queries/month
BRAVE_API_KEY=your_brave_api_key_here

# Tavily Search API - https://tavily.com/
# Free tier: 1,000 requests/month
TAVILY_API_KEY=your_tavily_key_here

# MCP Server URL (if running separate MCP server)
MCP_SERVER_URL=http://localhost:3000/mcp

# Workspace directory for filesystem MCP
WORKSPACE_DIR=/home/runner/work/workspace/workspace

# ============================================================================
# CACHING & STORAGE
# ============================================================================

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# Cache TTL (seconds)
CACHE_TTL=300
SEMANTIC_CACHE_SIMILARITY_THRESHOLD=0.95

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=ymera
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=ymera_db
POSTGRES_CONNECTION_STRING=postgresql://ymera:your_secure_password@localhost:5432/ymera_db

# MongoDB (Optional)
MONGODB_URL=mongodb://localhost:27017/
MONGODB_DB=ymera

# Neo4j (Optional - for graph relationships)
NEO4J_URL=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_neo4j_password

# ============================================================================
# VECTOR DATABASE (For semantic search)
# ============================================================================

# Qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=

# Weaviate (Alternative)
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=

# ChromaDB (Alternative)
CHROMA_HOST=localhost
CHROMA_PORT=8000

# ============================================================================
# MODEL CONFIGURATION
# ============================================================================

# Default strategy (single_model or multi_model)
DEFAULT_STRATEGY=multi_model

# Enable multi-model execution
ENABLE_MULTI_MODEL=true

# Maximum parallel phases
MAX_PARALLEL_PHASES=2

# Phase timeout (seconds)
PHASE_TIMEOUT=300

# Default model for quick tasks
DEFAULT_FAST_MODEL=groq/llama-3.1-8b-instant

# Default model for quality tasks
DEFAULT_QUALITY_MODEL=gemini-1.5-pro

# ============================================================================
# COST CONTROL
# ============================================================================

# Monthly budget in USD
MONTHLY_BUDGET=10.00

# Alert when reaching this percentage of budget
COST_ALERT_THRESHOLD=0.80

# Automatic model downgrade when over budget
AUTO_DOWNGRADE_ON_BUDGET=true

# Track costs in real-time
ENABLE_COST_TRACKING=true

# ============================================================================
# RATE LIMITING
# ============================================================================

# Requests per minute per user
RATE_LIMIT_PER_USER=60

# Requests per minute per IP
RATE_LIMIT_PER_IP=100

# Concurrent requests per user
MAX_CONCURRENT_REQUESTS=5

# ============================================================================
# SECURITY
# ============================================================================

# JWT Secret Key (generate with: openssl rand -hex 32)
JWT_SECRET_KEY=your_secret_jwt_key_here

# JWT Algorithm
JWT_ALGORITHM=HS256

# JWT Expiration (minutes)
JWT_EXPIRATION=1440

# Enable API key authentication
ENABLE_API_KEY_AUTH=true

# Admin API key
ADMIN_API_KEY=your_admin_api_key_here

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://192.168.1.*

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Enable Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry DSN (error tracking)
SENTRY_DSN=

# Log to file
LOG_TO_FILE=true
LOG_FILE_PATH=/var/log/ymera/app.log

# ============================================================================
# FEATURES FLAGS
# ============================================================================

# Enable specific features
ENABLE_WORKFLOW_VALIDATION=true
ENABLE_QUALITY_BENCHMARKING=true
ENABLE_SECURITY_SCANNING=true
ENABLE_SELF_HEALING=true
ENABLE_LEARNING_SYSTEM=true

# ============================================================================
# MOBILE ACCESS (iPhone)
# ============================================================================

# To access from iPhone:
# 1. Get your Windows PC IP: ipconfig
# 2. Set HOST=0.0.0.0 above
# 3. Access from iPhone: http://YOUR_PC_IP:8000

# Local network subnet (for automatic device discovery)
LOCAL_NETWORK_SUBNET=192.168.1.0/24

# Enable mobile-optimized UI
ENABLE_MOBILE_UI=true

# ============================================================================
# DEPLOYMENT
# ============================================================================

# Docker configuration
DOCKER_REGISTRY=
DOCKER_IMAGE_TAG=latest

# Number of worker processes
WORKERS=4

# Worker class (sync, async, eventlet, gevent)
WORKER_CLASS=uvicorn.workers.UvicornWorker

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================

# Embedding model for semantic search
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Enable streaming responses
ENABLE_STREAMING=true

# Maximum context length
MAX_CONTEXT_LENGTH=128000

# Enable function calling
ENABLE_FUNCTION_CALLING=true

# Enable vision models
ENABLE_VISION_MODELS=true

# ============================================================================
# DEVELOPMENT SETTINGS (Comment out in production)
# ============================================================================

# Enable development mode features
DEV_MODE=true

# Auto-reload on code changes
AUTO_RELOAD=true

# Enable debug toolbar
ENABLE_DEBUG_TOOLBAR=true

# Mock external API calls (for testing without API keys)
MOCK_EXTERNAL_APIS=false

# ============================================================================
# OPTIONAL: CLOUD STORAGE
# ============================================================================

# AWS S3
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=

# Google Cloud Storage
GOOGLE_CLOUD_PROJECT=
GOOGLE_APPLICATION_CREDENTIALS=

# Azure Blob Storage
AZURE_STORAGE_CONNECTION_STRING=

# ============================================================================
# OPTIONAL: MESSAGE QUEUE
# ============================================================================

# RabbitMQ
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# Kafka
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# ============================================================================
# OPTIONAL: EMAIL
# ============================================================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@ymera.ai

# ============================================================================
# TESTING
# ============================================================================

# Test database
TEST_DATABASE_URL=sqlite:///./test.db

# Mock mode for tests
TEST_MODE=false

# ============================================================================
# NOTES
# ============================================================================

# Priority Free Models (Recommended):
# 1. Groq Llama 3.1 70B - Best free quality/speed
# 2. Gemini 1.5 Flash - Best free context (1M tokens)
# 3. OpenRouter free models - 40+ options
# 4. Mistral 7B (via OpenRouter) - Efficient

# GitHub Pro Benefits:
# - Unlimited GitHub Actions minutes
# - Advanced code review tools
# - Better API rate limits
# - Private repository access

# For iPhone Access:
# 1. Find PC IP: Open Command Prompt â†’ type "ipconfig"
# 2. Look for "IPv4 Address" (e.g., 192.168.1.100)
# 3. On iPhone Safari: http://192.168.1.100:8000
# 4. Add to home screen for app-like experience

# Security Note:
# - Never commit .env file to git
# - Use strong passwords
# - Rotate API keys regularly
# - Enable 2FA on all accounts
